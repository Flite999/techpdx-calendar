---
const navigation = [
  { name: 'Add/Import an Event', href: '/add-event' },
  { name: 'Search Events', href: '/search' },
]
---

<nav class="header">
  <div class="header-inner">
    <div class="header-left">
      <a href="/" class="header-logo">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" d="M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5m-9-6h.008v.008H12v-.008ZM12 15h.008v.008H12V15Zm0 2.25h.008v.008H12v-.008ZM9.75 15h.008v.008H9.75V15Zm0 2.25h.008v.008H9.75v-.008ZM7.5 15h.008v.008H7.5V15Zm0 2.25h.008v.008H7.5v-.008Zm6.75-4.5h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V15Zm0 2.25h.008v.008h-.008v-.008Zm2.25-4.5h.008v.008H16.5v-.008Zm0 2.25h.008v.008H16.5V15Z" />
        </svg>
        <span>Tech<span class="header-logo-accent">PDX</span></span>
      </a>
      <div class="nav-links-desktop">
        {navigation.map((item) => (
          <a href={item.href} class="nav-link">{item.name}</a>
        ))}
      </div>
    </div>

    <button type="button" class="mobile-menu-btn" id="mobile-menu-btn" aria-expanded="false" aria-controls="mobile-menu">
      <span class="sr-only">Open main menu</span>
      <svg id="menu-icon-open" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5" />
      </svg>
      <svg id="menu-icon-close" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" style="display:none;">
        <path stroke-linecap="round" stroke-linejoin="round" d="M6 18 18 6M6 6l12 12" />
      </svg>
    </button>
  </div>

  <div id="mobile-menu" class="mobile-menu" hidden>
    {navigation.map((item) => (
      <a href={item.href} class="mobile-menu-link">{item.name}</a>
    ))}
  </div>
</nav>

<script>
  const btn = document.getElementById('mobile-menu-btn')
  const menu = document.getElementById('mobile-menu')
  const iconOpen = document.getElementById('menu-icon-open')
  const iconClose = document.getElementById('menu-icon-close')

  btn?.addEventListener('click', () => {
    const expanded = btn.getAttribute('aria-expanded') === 'true'
    btn.setAttribute('aria-expanded', String(!expanded))
    if (expanded) {
      menu?.setAttribute('hidden', '')
      if (iconOpen) iconOpen.style.display = ''
      if (iconClose) iconClose.style.display = 'none'
    } else {
      menu?.removeAttribute('hidden')
      if (iconOpen) iconOpen.style.display = 'none'
      if (iconClose) iconClose.style.display = ''
    }
  })
</script>
